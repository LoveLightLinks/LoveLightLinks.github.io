<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Love Light Links</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
    margin:0;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle at top, #2a003f, #000);
    color:white;
    text-align:center;
}

.header {
    padding:30px 20px 10px;
}

.logo {
    width:140px;
    display:block;
    margin:0 auto;
    animation: float 3s ease-in-out infinite;
}

@keyframes glow {
    from { filter: drop-shadow(0 0 10px #ff00cc); }
    to { filter: drop-shadow(0 0 25px #00ccff); }
}

h1 {
    margin:10px 0 5px;
    font-size:32px;
}

.tagline {
    opacity:0.7;
    font-size:14px;
}

.search-box {
    margin:20px auto;
    width:90%;
    max-width:400px;
}

.search-box input {
    width:100%;
    padding:12px;
    border-radius:25px;
    border:none;
    outline:none;
    background:#111;
    color:white;
    font-size:16px;
}

.grid {
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    padding:20px;
    gap:20px;
}

.card {
    background:rgba(255,255,255,0.05);
    padding:15px;
    border-radius:15px;
    width:160px;
    cursor:pointer;
    transition:0.3s;
}

.card:hover {
    transform:translateY(-5px);
    box-shadow:0 0 20px #ff00cc;
}

.card img {
    width:100%;
    border-radius:10px;
}

.card h3 {
    margin:10px 0 5px;
    font-size:16px;
}

/* Popup */
.popup {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.9);
    justify-content:center;
    align-items:center;
    flex-direction:column;
}

.popup img {
    max-width:90%;
    max-height:60%;
    border-radius:15px;
}

.popup button {
    margin-top:20px;
    padding:10px 20px;
    border:none;
    border-radius:25px;
    background:#ff00cc;
    color:white;
    cursor:pointer;
}
</style>
</head>

<body>

<div class="header">
<img src="https://lovelightlinks.github.io/images/Icon.png" class="logo">
<div class="search-box">
    <input type="text" id="search" placeholder="Search models...">
</div>

<div class="grid" id="modelGrid"></div>

<div class="popup" id="popup">
    <img id="popupImg">
    <button id="visitBtn" target="_blank">Visit</button>
    <button onclick="closePopup()">Close</button>
</div>

<script>
const sheetURL = "https://opensheet.elk.sh/1mLlHZt6MLsEV4Oq0m9_WQPex94v5JbY0pTgr9hL7PjY/Sheet1";

let models = [];

fetch(sheetURL)
.then(res => res.json())
.then(data => {
    models = data;
    displayModels(models);
});

function displayModels(data) {
    const grid = document.getElementById("modelGrid");
    grid.innerHTML = "";
    data.forEach(model => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
            <img src="${model.Image1}">
            <h3>Model ${model.ID}</h3>
        `;
        card.onclick = () => openPopup(model);
        grid.appendChild(card);
    });
}

document.getElementById("search").addEventListener("input", function() {
    const value = this.value.toLowerCase();
    const filtered = models.filter(m => 
        m.ID.toLowerCase().includes(value) ||
        m.Name.toLowerCase().includes(value)
    );
    displayModels(filtered);
});

function openPopup(model) {
    document.getElementById("popupImg").src = model.Image1;

    document.getElementById("popupImg").insertAdjacentHTML("afterend", `
        <div id="popupDetails" style="padding:15px; max-width:90%; text-align:center;">
            <h3>Model ${model.ID}</h3>
            <p>${model.Name}</p>
        </div>
    `);

    document.getElementById("visitBtn").onclick = () => {
        window.open(model.Link, "_blank");
    };

    document.getElementById("popup").style.display = "flex";
}

function closePopup() {
    document.getElementById("popup").style.display = "none";
    const details = document.getElementById("popupDetails");
    if(details) details.remove();
}
</script>

</body>
</html>
